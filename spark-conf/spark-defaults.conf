# Configuración optimizada para evitar errores de serialización
spark.serializer                org.apache.spark.serializer.KryoSerializer
spark.kryo.registrationRequired false
spark.kryo.unsafe               false
spark.kryoserializer.buffer.max 256m
spark.kryoserializer.buffer     64k

# Configuraciones de memoria
spark.driver.memory             1g
spark.executor.memory           1g
spark.driver.maxResultSize      512m

# Configuraciones de paralelismo
spark.sql.shuffle.partitions    4
spark.default.parallelism       4

# Configuraciones SQL
spark.sql.adaptive.enabled                    true
spark.sql.adaptive.coalescePartitions.enabled true
spark.sql.adaptive.skewJoin.enabled           true
spark.sql.execution.arrow.pyspark.enabled     false
spark.sql.execution.arrow.pyspark.fallback.enabled true

# Configuraciones de red y timeouts
spark.network.timeout          300s
spark.executor.heartbeatInterval 30s

# Configuraciones de logs
spark.eventLog.enabled          false

# Configuraciones adicionales para evitar warnings
spark.sql.warehouse.dir         /tmp/spark-warehouse
spark.sql.catalogImplementation hive